---
layout: post
title: b-scripts
date: 2017-05-12 09:00:00 00:00
category: monitoring
author:
    - AnshikaKoul
    - kaaveland
---

<img src="{{ site.baseurl }}/img/b-script-usage.png" />

In the web team we have suite of scripts, that we call the _b-scripts_. This is a collection of scripts that automates some common tasks, because we have faith in automation, these scripts have grown over time and it would be fun to review some of the less complicated ones. We can already reveal that the most difficult part of any of the scripts has been to setup auto completion. All of our scripts are sub commands to the _b_ command. The _b_ command sets up some environment variables, metrics, help and auto completion for the other commands.

Application specific scripts can be created by putting them in the scripts folder of the application git repositories. A lot of applications have their own tooling but we have attempt to have the most commonly needed functionality in the b script repositories. Currently there are scripts written in python, ruby and bash. But generally people write scripts in the language they are most comfortable with.

Some of the commonly used scripts are :

- b blame               (Used to find out who has recently deployed an application)
- b branch              (It links a git branch with a trello card)
- b deploy              (The most used script, we will certainly blog about this script in detail in the future)
- b good-morning        (It updates all your local git repositories)
- b heapdump            (Generate and download a heap dump from a running application)
- b help                (Show detailed usage information for another b script)
- b liquibase-migrate   (Apply liquibase migrations for an application)
- b logs                (Shows logs for an application in a given environment)
- b list-pull-requests  (Show all pull request in a git hub repo and how long were they open)
- b release             (Release and application and upload it to our nexus)
- b restart             (Restarting an application without user visible downtime)
- b ssh                 (ssh into app-servers for application in given environment)
- b show                (View any section of an applications deployment configurations)
- b build-status        (Jenkins uses it to notify on github if a branch has build successfully)

<img src="{{ site.baseurl }}/img/b-self-test.png" />

Altogether we have around 112 different b-scripts registered across all our repositories. We make sure to instrument each one them to check how well they are working, and we will definitely talk about a few of them in detail in our future blog posts.
