<?xml version="1.0" encoding="UTF-8"?>
<Article>
  <MenuTitle>XML/JSON API Examples</MenuTitle>
  <Ingress>
    The Bring Booking API is a logged-in service that lets mybring-users (customers of mybring.com) programmatically
    create a booking by invoking a Web Service over SOAP, or by posting XML/JSON over HTTP.
    The API uses the same backend as Bring Booking web (beta.bring.no/booking) and the same PDF labels.
  </Ingress>
  <Content><![CDATA[
<h2><a name="examples">Examples</a></h2>
<p>
   All requests for the API must include the aforementioned authentication headers. Use HTTP POST to create new
   bookings.
</p>

<h4>JSON/XML API - Example request header</h4>
<pre class="code">
POST /booking/api/booking HTTP/1.1
Content-Type: application/xml
Accept: application/xml
X-MyBring-API-Uid: oc@java.no
X-MyBring-API-Key: f00f000f-00f0-f0f0-f0f0-f0f0f0f0ff00
User-Agent: oc-rest-cli/0.1.1-235dff
Host: www.mybring.com
Connection: keep-alive
Content-Length: 2126
</pre>

<h4>JSON API - Example request</h4>

<h4>Example request</h4>

<div class="codetabs">
<h3><a href="#xml">XML</a></h3>
<div data-tab="xml" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/validRequest.xml"
    data-internal="/proxy/booking/api/bookingExamples/validRequest.xml">
        Example request XML
    </a>
</p>
<pre class="xml response delay-snippet"></pre>
</div>

<h3><a href="#json">JSON</a></h3>
<div data-tab="json" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/validRequest.json"
    data-internal="/proxy/booking/api/bookingExamples/validRequest.json">
        Example request JSON
    </a>
</p>
<pre class="json response delay-snippet"></pre>
</div>
</div>

<h4>Example response: succesful request</h4>

<div class="codetabs">
<h3><a href="#xml">XML</a></h3>
<div data-tab="xml" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/successfulResponse.xml"
    data-internal="/proxy/booking/api/bookingExamples/successfulResponse.xml">
        Example response XML
    </a>
</p>
<pre class="xml response delay-snippet"></pre>
</div>

<h3><a href="#json">JSON</a></h3>
<div data-tab="json" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/successfulResponse.json"
    data-internal="/proxy/booking/api/bookingExamples/successfulResponse.json">
        Example response JSON
    </a>
</p>
<pre class="json response delay-snippet"></pre>
</div>
</div>

<h4>Example response: failed request</h4>

<div class="codetabs">
<h3><a href="#xml">XML</a></h3>
<div data-tab="xml" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/failedResponse.xml"
    data-internal="/proxy/booking/api/bookingExamples/failedResponseWithOk.xml">
        Example response XML
    </a>
</p>
<pre class="xml response delay-snippet"></pre>
</div>

<h3><a href="#json">JSON</a></h3>
<div data-tab="json" class="tab api-call">
<p>
    <a target="_blank" class="request" href="http://beta.bring.com/booking/api/bookingExamples/failedResponse.json"
    data-internal="/proxy/booking/api/bookingExamples/failedResponseWithOk.json">
        Example response JSON
    </a>
</p>
<pre class="json response delay-snippet"></pre>
</div>
</div>


<h4>XML API - Example request: Courier products with product specific demands</h4>

<p>
  A few products require some extra information to be booked. Currently this includes all products transported
  by Bring Express.
<p>

<pre class="code">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;bookingRequest xmlns=&quot;http://www.bring.no/booking/&quot; testIndicator=&quot;true&quot;&gt;
&lt;schemaVersion&gt;1&lt;/schemaVersion&gt;

&lt;consignments&gt;

&lt;consignment correlationId=&quot;INTERNAL-123456&quot;&gt;

&lt;shippingDateTime&gt;2012-01-12T11:00:00&lt;/shippingDateTime&gt;

&lt;parties&gt;
&lt;sender&gt;
  &lt;name&gt;Ola Nordmann&lt;/name&gt;
  &lt;addressLine&gt;Testsvingen 12&lt;/addressLine&gt;
  &lt;postalCode&gt;0263&lt;/postalCode&gt;
  &lt;city&gt;OSLO&lt;/city&gt;
  &lt;countryCode&gt;no&lt;/countryCode&gt;
  &lt;reference&gt;1234&lt;/reference&gt;
  &lt;additionalAddressInfo&gt;Hentes p&#229; baksiden etter klokken to&lt;/additionalAddressInfo&gt;
  &lt;contact&gt;
    &lt;name&gt;Trond Nordmann&lt;/name&gt;
    &lt;email&gt;trond@normanntest.no&lt;/email&gt;
    &lt;phoneNumber&gt;99999999&lt;/phoneNumber&gt;
  &lt;/contact&gt;
&lt;/sender&gt;

&lt;recipient&gt;
  &lt;name&gt;Tore Mottaker&lt;/name&gt;
  &lt;addressLine&gt;Mottakerveien 14&lt;/addressLine&gt;
  &lt;addressLine2&gt;c/o Tina Mottaker&lt;/addressLine2&gt;
  &lt;!--&lt;postalCode&gt;41222&lt;/postalCode&gt;--&gt;
  &lt;city&gt;DUBLIN&lt;/city&gt;
  &lt;countryCode&gt;ie&lt;/countryCode&gt;
  &lt;reference&gt;43242&lt;/reference&gt;
  &lt;additionalAddressInfo&gt;Bruk ringeklokken&lt;/additionalAddressInfo&gt;
  &lt;contact&gt;
    &lt;name&gt;Tore Mottaker&lt;/name&gt;
    &lt;email&gt;tore@mottakertest.no&lt;/email&gt;
    &lt;phoneNumber&gt;88888888&lt;/phoneNumber&gt;
  &lt;/contact&gt;
&lt;/recipient&gt;
&lt;/parties&gt;

&lt;product&gt;
&lt;id&gt;QUICKPACK_DAY_CERTAIN&lt;/id&gt;
&lt;customerNumber&gt;EXPRESS_NORWAY-112-TESTNO&lt;/customerNumber&gt;
&lt;services&gt;
  &lt;recipientNotification&gt;
    &lt;email&gt;sender@sender.com&lt;/email&gt;
    &lt;mobile&gt;777777&lt;/mobile&gt;
  &lt;/recipientNotification&gt;
&lt;/services&gt;
&lt;/product&gt;

&lt;packages&gt;
&lt;package correlationId=&quot;PACKAGE-123&quot;&gt;
  &lt;weightInKg&gt;1.1&lt;/weightInKg&gt;
  &lt;goodsDescription&gt;Test&lt;/goodsDescription&gt;
  &lt;dimensions&gt;
    &lt;heightInCm&gt;10&lt;/heightInCm&gt;
    &lt;widthInCm&gt;10&lt;/widthInCm&gt;
    &lt;lengthInCm&gt;10&lt;/lengthInCm&gt;
  &lt;/dimensions&gt;
&lt;/package&gt;
&lt;/packages&gt;

&lt;/consignment&gt;
&lt;/consignments&gt;
&lt;/bookingRequest&gt;
</pre>
]]>
  </Content>
</Article>