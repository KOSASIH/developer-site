<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Get price, expected delivery and text for single parcel.</title>
	</head>
	<body>
		<h1>Example: Get price, expected delivery and text for single parcel.</h1>
		<p>This example shows you how to retrieve the price, expected delivery time and additional
			GUI text for sending a single parcel between two postal codes.</p>
		<p>The data used in this example are:</p>
		<ul>
			<li><code>weightInGrams</code>=1500</li>
			<li><code>from</code>=7600</li>
			<li><code>to</code>=1407</li>
		</ul>
		<div class="tabs">
			<h2><a href="#xml">XML</a></h2>
			<div data-tab="xml" class="tab">
				<p>Request:
					<a class="request" href="http://fraktguide.bring.no/fraktguide/products/all.xml?weightInGrams=1500&amp;from=7600&amp;to=1407">
						/all.xml?weightInGrams=1500&amp;from=7600&amp;to=1407
					</a>
				</p>
				<pre class="xml response"></pre>
			</div>
			
			<h2><a href="#json">JSON</a></h2>
			<div data-tab="json" class="tab">
				Request:
				<a class="request" href="http://fraktguide.bring.no/fraktguide/products/all.json?weightInGrams=1500&amp;from=7600&amp;to=1407">
					/all.json?weightInGrams=1500&amp;from=7600&amp;to=1407
				</a>
				<pre class="json response"></pre>
				<p>By adding the <code>callback</code> parameter the response will be wrapped in the
					specified JSONP callback function.</p>
			</div>
			
			<h2><a href="#webservice">Web Service</a></h2>
			<div data-tab="webservice" class="tab">
				<p>Example coming</p>
			</div>
			
			<h2><a href="#java">Java</a></h2>
			<div data-tab="java" class="tab">
				<pre class="java">
			        // Initialize library
			        String clientId = "www.mywebshop.com";
			        BringService bringService = new BringService(clientId);

			        // Prepare query
			        Package packet = new Package();
			        packet.withWeightInGrams("1500");
			        Shipment shipment = new Shipment();
			        shipment.withFromPostalCode("7600");
			        shipment.withToPostalCode("1407");
			        shipment.addPackage(packet);

			        // Fetch price information from Bring
			        ShippingGuideResult shippingGuideResult = bringService.queryShippingGuide(shipment, QueryType.ALL);
			        String price = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getPrice().getPackagePriceWithoutAdditionalServices().getAmountWithoutVAT();
			        String workingDays = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getExpectedDelivery().getWorkingDays();
			        String descriptionText = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getGuiInformation().getDescriptionText();

			        // Print out
			        System.out.println("Price: " + price + " NOK");
			        System.out.println("Working days: " + workingDays);
			        System.out.println("Display name: " + descriptionText);
				</pre>
				<pre>
					<p>Expected result:</p>
					<p>Price: 81.00 NOK</p>
					<p>Working days: 2</p>
					<p>Display name: RIMI Vinterbro. Åpningstider Man - Fre: 1000-2100, Lør: 0900-1800</p>
				</pre>
			</div>
		</div>
	</body>
</html>