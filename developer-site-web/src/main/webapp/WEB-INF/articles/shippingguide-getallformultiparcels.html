 <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Insert title here</title>
	</head>
	<body>
		<h1>Example: Get price, expected delivery and text for multiple parcels.</h1>
		<p>This example shows you how to retrieve total price, expected delivery time and help
			texts for a shipment of multiple parcels.</p>
		<p>The data used in this example are:</p>
		<ul>
			<li><code>from</code>=7041</li>
			<li><code>to</code>=0558</li>
		</ul>
		<p>Parcels:</p>
		<ol>
			<li><code>weightInGrams<strong>0</strong></code>=1500</li>
			<li><code>volume<strong>1</strong></code>=33</li>
			<li><code>length<strong>2</strong></code>=10&amp;<code>width<strong>2</strong></code>=20
				&amp;<code>height<strong>2</strong></code>=30</li>
		</ol>
		<p>It is possible to combine weight, volume and dimensions for multiple parcels.</p>
		
		<p>Multiple parcels are specified by suffixing either <code>weightInGrams</code>, <code>
			volume</code> or dimensions (<code>length</code>, <code>width</code> or <code>height
			with sequencial numbers from 0.</code></p>
		
		<div class="codetabs">
			<h2><a href="#xml">XML</a></h2>
			<div data-tab="xml" class="tab">
				<p>Request:
					<a class="request" href="http://fraktguide.bring.no/fraktguide/products/all.xml?from=7041&amp;to=0558&amp;weightInGrams0=1500&amp;volume1=33&amp;length2=10&amp;width2=20&amp;height2=30">
						/all.xml?from=7041&amp;to=0558&amp;weightInGrams0=1500&amp;volume1=33&amp;length2=10&amp;width2=20&amp;height2=30
					</a>
				</p>
				<pre class="xml response"></pre>
			</div>
			
			<h2><a href="#json">JSON</a></h2>
			<div data-tab="json" class="tab">
				<p>Request:
					<a class="request" href="http://fraktguide.bring.no/fraktguide/products/all.json?from=7041&amp;to=0558&amp;weightInGrams0=1500&amp;volume1=33&amp;length2=10&amp;width2=20&amp;height2=30">
						/all.json?from=7041&amp;to=0558&amp;weightInGrams0=1500&amp;volume1=33&amp;length2=10&amp;width2=20&amp;height2=30
					</a>
				</p>
				<pre class="json response"></pre>
				<p>By adding the <code>callback</code> parameter the response will be wrapped in the
					specified JSONP callback function.</p>
			</div>
			
			<h2><a href="#webservice">Web Service</a></h2>
			<div data-tab="webservice" class="tab">
				<p>Example coming</p>
			</div>
			
			<h2><a href="#java">Java</a></h2>
			<div data-tab="java" class="tab">
				<pre class="java">
			        // Initialize library
			        String clientId = "www.mywebshop.com";
			        BringService bringService = new BringService(clientId);

			        // Prepare query
			        Package packet = new Package();
			        packet.withWeightInGrams("1500");
			        Package packet2 = new Package();
			        packet2.withVolume("33");
			        Package packet3 = new Package();
			        packet3.withLength("10").withWidth("20").withHeight("30");
			        Shipment shipment = new Shipment();
			        shipment.withFromPostalCode("7600");
			        shipment.withToPostalCode("1407");
			        shipment.addPackage(packet).addPackage(packet2).addPackage(packet3);

			        System.out.println(shipment.toQueryString());
			        // Fetch price information from Bring
			        ShippingGuideResult shippingGuideResult = bringService.queryShippingGuide(shipment, QueryType.ALL);
			        String price = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getPrice().getPackagePriceWithoutAdditionalServices().getAmountWithoutVAT();
			        String workingDays = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getExpectedDelivery().getWorkingDays();
			        String descriptionText = shippingGuideResult.getProduct(ProductType.SERVICEPAKKE).getGuiInformation().getDescriptionText();

			        // Print out
			        System.out.println("Price: " + price + " NOK");
			        System.out.println("Working days: " + workingDays);
			        System.out.println("Display name: " + descriptionText);
				</pre>
				<pre>
					<p>Expected result:</p>
					<p>Price: 268.00 NOK</p>
					<p>Working days: 2</p>
					<p>Display name: RIMI Vinterbro. Åpningstider Man - Fre: 1000-2100, Lør: 0900-1800</p>
				</pre>
			</div>
		</div>
	</body>
</html>